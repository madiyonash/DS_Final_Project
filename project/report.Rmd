---
title: "Final Report for Intro to Data Science"
output: html_notebook
---
# Team Members
* [Madison Yonash](mailto:myonash8902@floridapoly.edu)

# Introduction

I use a daily journaling app called "Daylio" to track my mood and activities that I have done throughout the day. In 2019, I made the accomplishment of tracking this every single day of the year (with some days having multiple entries). I've always been interested in the data and visualizations that the app has to offer, from creating a color scale of my mood for a particular month to a weekly recap of what happened. However, not all of my questions could be answered by the app itself. I saw that I could download the data as a .csv file, and from there, my exploration of the data began.

The app itself is relatively straightforward: you click one of the "moods" you create (mine included names like "meh", "not good but feel like it should be", etc) (which are inherently factors, even if the app doesn't make it seem like it at first glance!), select activities/traits that apply to your day, and write notes if you would like. 
For the sake of this report, I omitted the notes I had and created a `mood_scale` (that is a numerical representation of the factors (for ex, multiple moods had the equivalent of a 4/5 so I took this step for my own usability purposes). before uploading the csv file to GitHub. 

As a female in her 20s, it is no surprise that I am familiar with astrology. You may have heard the term that X is happening because ["Mercury is in Retrograde."](https://www.cnn.com/cnn-underscored/health-fitness/mercury-retrograde-2022) While I'm by no means an expert on astrological occurances, I thought it would be fun to do some additional exploration to see if this had any correaltion with my mood. I also want to use other data sets with factors that may affect my mood. I found a [super cool GitHub Repo](https://github.com/Paris778/Retrograde-Mercury-Dates-Dataset-1990-2020) that relates to this topic.


# *Tidying* Up the Data {#tag2}

Since the data initially came from all years that I have used the app, it is important to make the data tidy and easier to work with. 

Load necessary packages: 
```{r}
library(tidyverse) 
library(lubridate) #date and time
```


## Working with the Dailyo Data {#tag1}
Import data, which can be found [here](https://github.com/madiyonash/DS_Final_Project/blob/master/data/clean_report.csv):
```{r}
clean_report <- read_csv("C:/Users/madis/Documents/intro to ds/final_project/DS_Final_Project/data/clean_report.csv")
```

To analyze the data from 2019, we must filter the dataset for entries taken during that year. The use of the `lubridate` package makes this easy: 
```{r}
report_2019 <- clean_report %>% 
  filter(between(date, as.Date("2019-01-01"), as.Date("2019-12-31")))
```

If you take a glance at the `activities` column, you may notice that the observations have a varying number of activities. Here is a sample of some of the observations: 
```{r}
#set seed value to birthday of my cat, for giggles

set.seed(20170601)
report_2019 %>% 
  select(activities) %>% 
  sample_n(5)
```

To make it easier to work with this data, we can separate the activities so that each activity is contained within its own observation:
```{r}
report_2019_sep <- report_2019 %>% 
  separate_rows(activities, sep = "\\|") 

report_2019_sep$activities <- trimws(report_2019_sep$activities, which = c("both"))

#print sample of this report
report_2019_sep %>% 
  select(activities) %>% 
  sample_n(5)
```

Additionally, we can create an additional column that summarizes the average the mood per day. This will let us compare the rating of any particular day in 2019 with other factors.
```{r}
report_2019_day <- report_2019 %>% 
  group_by(date) %>% 
  summarize(ave_mood = mean(mood_scale, na.rm=T))

#lets take a look at what this summary looks like
glimpse(report_2019_day)
```

## Mercury in Retrograde

We will additionally be using a dataset that deals with mercury in retrograde. The original file can be found [here](https://github.com/Paris778/Retrograde-Mercury-Dates-Dataset-1990-2020)
```{r}
mercury_in_retrograde <- read_csv("C:/Users/madis/Documents/intro to ds/final_project/DS_Final_Project/data/1990_2020_mercury_retrograde_dataset.csv")
```

Once again, let's limit this to the year 2019.
```{r}
mercury_in_retrograde <- mercury_in_retrograde %>% 
  filter(between(DATE, as.Date("2019-01-01"), as.Date("2019-12-31")))
```


# Data Description
Now that the data is prepared, let's see what it shows us. 

## Dailyo Data
In the [Tidying Up the Data section](#tag2), we created a few dataframes from our initial download from the Dailyo app called `clean_report`.

The one we can most relevantly go back to is the `report_2019`, which contains all entries for the year 2019 (which is the focus of this report).
```{r}
glimpse(report_2019)
```

From there, for my own usability purposes, I created two additional dataframes from this report of all 2019 entries. These are `report_2019_sep` and `report_2019_day`

In the `report_2019_sep` data, we have a version of the original dataset, with each observation holding a separate activity category. This was important to do, as seen [earlier](#tag1), that some observations had multiple 
## Mercury in Retrograde Data




# Exploratory Data Analysis


## Univariate Data Analysis
First, let's see how my year was overall.
```{r}
report_2019 %>% 
  ggplot() +
  geom_bar(mapping = aes(mood_scale)) +
  labs(title = "Frequency of Moods", x = "Mood", y = "Number of Times Observed") +
  theme_minimal()
```

Let's see what kinds of things I did over the year.
```{r}
#find how frequently i did different things
report_2019_sep %>%
  group_by(activities) %>% 
  summarize(count = n()) %>% 
  arrange(desc(count))
```
... It's a bit sad that my most frequent activity was doing homework...


Moving on, let's create a visualization of the frequency I completed different activities:
```{r}
report_2019_sep %>%
  ggplot() +
  geom_bar(mapping = aes(activities)) +
  coord_flip() +
  theme_minimal() +
  labs(title = "Frequency of Activities", x = "Number of Days", y = "Activity")
```


## Bivariate Data Analysis

First, let's try and graph my average daily mood over the course of the year.
```{r}
report_2019_day %>% 
  ggplot() +
  geom_line(mapping = aes(x = date, y = ave_mood)) +
  labs(title = "Change in Daily Mood Throughout the Year", y = "Daily Average Mood",
       x = "Date")
```


Wow, that's turbulent! This isn't super insightful, so further breaking down the data may help us learn more about it.


Let's see how my mood during the different months in the year compare.
```{r}
# before we go into looking at the months, create a new dataframe that is easier to work with
# make additional columns for month and day
report_2019_months <- report_2019_day %>% 
  mutate(day = format(report_2019_day$date, "%d")) %>% 
  mutate(month = month(ymd(date), label = T)) %>% 
  select(ave_mood, month, day)
report_2019_months$day <- as.numeric(report_2019_months$day)
```

```{r}
# create a table that compares monthly averages
report_2019_day %>% 
  mutate(day = format(report_2019_day$date, "%d")) %>% 
  mutate(month = month(ymd(date), label = T)) %>% 
  select(ave_mood, month, day)
report_2019_months$day <- as.numeric(report_2019_months$day)
report_2019_months %>% 
  group_by(month) %>%
  summarize(avg_montly_mood = mean(ave_mood), variation = var(ave_mood))
```
Here we can see the average mood for the month as a whole, as well as the variation for each month.

To visualize this:
```{r}
report_2019_months %>% 
  ggplot() +
  geom_boxplot(mapping = aes(
    x = month,
    y = ave_mood,
    color = month)) +
    labs(title = "Average Mood by Month",
         y = "Mood Rating",
         x = "Month") +
  theme_minimal() +
  coord_flip()
```

Above, we take a look at the mean mood for every month. To dig a little deeper, we can see how my daily mood changed over the course of the month:
```{r}
#visualize data
report_2019_months %>%
  ggplot( aes(x=day, y=ave_mood, group=month, color=month)) +
    geom_line() +
  ggtitle("Average Mood by Month") +
  labs(x = "Day", y ="Average Daily Mood") +
  theme_minimal()
```


That's pretty ugly. Since there are so many lines on one chart, it is difficult to compare the trends within each month. Let's try again:

```{r}
# try again
tmp <- report_2019_months %>% 
  mutate(month2 = month)

tmp %>%
  ggplot( aes(x=day, y=ave_mood)) +
    geom_line( data=tmp %>% dplyr::select(-month), aes(group=month2), color="grey", size=0.5, alpha=0.5) +
    geom_line( aes(color=month), color="#4e08a8", size=1.2 )+
    labs(title = "How Each Month's Daily Mood Compares",
         x = "Day", 
         y ="Average Daily Mood") +
    facet_wrap(~month)
```
I think that's pretty neat!

## Data Analysis

# Conclusion

# Citation of Data

